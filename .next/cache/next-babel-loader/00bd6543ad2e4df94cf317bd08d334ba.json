{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Nav from '../../components/layout';\nimport Link from 'next/link';\nimport { useQuery, useLazyQuery } from '@apollo/client';\nimport { GET_ACCESS_BY_HOSPITAL, GET_USER_INFO_BY_ID } from '../../graphql/schema';\nimport { Modal } from '../../components/modal';\nimport { getClient } from '../../graphql/client';\n\nconst Dashboard = () => {\n  const {\n    0: isOpen,\n    1: setIsOpen\n  } = useState(false);\n  const {\n    data,\n    loading\n  } = useQuery(GET_ACCESS_BY_HOSPITAL);\n  const [getUserInfoById, {\n    data: userInfo,\n    loading: loadingInfo\n  }] = useLazyQuery(GET_USER_INFO_BY_ID);\n\n  const handleUser = id => {\n    console.log(id);\n    getUserInfoById({\n      variables: {\n        id: id\n      }\n    });\n    setIsOpen(true);\n  };\n\n  return __jsx(React.Fragment, null, __jsx(Nav, null), __jsx(\"br\", {\n    className: \"jsx-3301611693\"\n  }), __jsx(\"br\", {\n    className: \"jsx-3301611693\"\n  }), __jsx(\"div\", {\n    className: \"jsx-3301611693\" + \" \" + \"container\"\n  }, __jsx(\"h5\", {\n    className: \"jsx-3301611693\"\n  }, \"Patient list\"), loading ? __jsx(\"p\", {\n    className: \"jsx-3301611693\"\n  }, \"Loading...\") : __jsx(\"table\", {\n    className: \"jsx-3301611693\" + \" \" + \"striped\"\n  }, __jsx(\"thead\", {\n    className: \"jsx-3301611693\"\n  }, __jsx(\"tr\", {\n    className: \"jsx-3301611693\"\n  }, __jsx(\"th\", {\n    className: \"jsx-3301611693\"\n  }, \"#\"), __jsx(\"th\", {\n    className: \"jsx-3301611693\"\n  }, \"Customer Name\"), __jsx(\"th\", {\n    className: \"jsx-3301611693\"\n  }, \"Email\"), __jsx(\"th\", {\n    className: \"jsx-3301611693\"\n  }, \"Phone Number\"), __jsx(\"th\", {\n    className: \"jsx-3301611693\"\n  }, \"...\"))), __jsx(\"tbody\", {\n    className: \"jsx-3301611693\"\n  }, data ? data.getAccessByHospital.map(({\n    id,\n    createdAt,\n    user\n  }, i) => __jsx(\"tr\", {\n    key: i,\n    className: \"jsx-3301611693\"\n  }, __jsx(\"td\", {\n    className: \"jsx-3301611693\"\n  }, 1 + i, \".\"), __jsx(\"td\", {\n    onClick: () => handleUser(id),\n    className: \"jsx-3301611693\" + \" \" + \"user\"\n  }, user.name), __jsx(\"td\", {\n    className: \"jsx-3301611693\"\n  }, user.email), __jsx(\"td\", {\n    className: \"jsx-3301611693\"\n  }, user.phoneNumber), __jsx(\"td\", {\n    className: \"jsx-3301611693\"\n  }, __jsx(Link, {\n    as: `/hos/record/${user.id}_${user.name.replace(/\\s+/g, '-').toLowerCase()}`,\n    href: \"/hos/record/[id]\"\n  }, __jsx(\"a\", {\n    className: \"jsx-3301611693\"\n  }, __jsx(\"i\", {\n    className: \"jsx-3301611693\" + \" \" + \"material-icons\"\n  }, \"visibility\")))))) : null)), __jsx(Modal, {\n    title: \"User Profile\",\n    isOpen: isOpen,\n    close: () => setIsOpen(false),\n    isLine: true,\n    overflow: true,\n    width: 30\n  }, __jsx(\"div\", {\n    style: {\n      width: \"100%\",\n      paddingLeft: \"30px\"\n    },\n    className: \"jsx-3301611693\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3301611693\" + \" \" + \"row\"\n  }, __jsx(\"div\", {\n    className: \"jsx-3301611693\" + \" \" + \"col s12\"\n  }, loadingInfo ? \"loading...\" : __jsx(React.Fragment, null, __jsx(\"p\", {\n    className: \"jsx-3301611693\"\n  }, __jsx(\"b\", {\n    className: \"jsx-3301611693\"\n  }, \"Name:\"), userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.name : ''), __jsx(\"p\", {\n    className: \"jsx-3301611693\"\n  }, __jsx(\"b\", {\n    className: \"jsx-3301611693\"\n  }, \"Email:\"), userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.email : ''), __jsx(\"p\", {\n    className: \"jsx-3301611693\"\n  }, __jsx(\"b\", {\n    className: \"jsx-3301611693\"\n  }, \"Phone:\"), userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.phoneNumber : ''), __jsx(\"p\", {\n    className: \"jsx-3301611693\"\n  }, __jsx(\"b\", {\n    className: \"jsx-3301611693\"\n  }, \"Address:\"), userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.address : ''), __jsx(\"p\", {\n    className: \"jsx-3301611693\"\n  }, __jsx(\"b\", {\n    className: \"jsx-3301611693\"\n  }, \"Date of Birth:\"), userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.dateOfBirth : ''), __jsx(\"p\", {\n    className: \"jsx-3301611693\"\n  }, __jsx(\"b\", {\n    className: \"jsx-3301611693\"\n  }, \"Gender:\"), userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.gender : ''), __jsx(\"p\", {\n    className: \"jsx-3301611693\"\n  }, __jsx(\"b\", {\n    className: \"jsx-3301611693\"\n  }, \"Marital Status:\"), userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.maritalStatus : ''), __jsx(\"p\", {\n    className: \"jsx-3301611693\"\n  }, __jsx(\"b\", {\n    className: \"jsx-3301611693\"\n  }, \"Genotype:\"), userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.genoType : ''), __jsx(\"p\", {\n    className: \"jsx-3301611693\"\n  }, __jsx(\"b\", {\n    className: \"jsx-3301611693\"\n  }, \"Blood Group:\"), userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.bloodGroup : ''))))))), __jsx(_JSXStyle, {\n    id: \"3301611693\"\n  }, \".user.jsx-3301611693{-webkit-text-decoration:underline;text-decoration:underline;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQWJpb2R1biBNaWNoYWVsXFxEZXNrdG9wXFxjaGFpbm1lZGljXFxmcm9udFxccGFnZXNcXGhvc1xcZGFzaGJvYXJkLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQTBFd0IsQUFHOEMsNERBQzdCIiwiZmlsZSI6IkM6XFxVc2Vyc1xcQWJpb2R1biBNaWNoYWVsXFxEZXNrdG9wXFxjaGFpbm1lZGljXFxmcm9udFxccGFnZXNcXGhvc1xcZGFzaGJvYXJkLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LHt1c2VTdGF0ZX0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBOYXYgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9sYXlvdXQnXHJcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluaydcclxuaW1wb3J0IHt1c2VRdWVyeSwgdXNlTGF6eVF1ZXJ5fSBmcm9tICdAYXBvbGxvL2NsaWVudCdcclxuaW1wb3J0IHtHRVRfQUNDRVNTX0JZX0hPU1BJVEFMLEdFVF9VU0VSX0lORk9fQllfSUR9IGZyb20gJy4uLy4uL2dyYXBocWwvc2NoZW1hJ1xyXG5pbXBvcnQge01vZGFsfSBmcm9tICcuLi8uLi9jb21wb25lbnRzL21vZGFsJ1xyXG5pbXBvcnQge2dldENsaWVudH0gZnJvbSAnLi4vLi4vZ3JhcGhxbC9jbGllbnQnXHJcblxyXG5cclxuY29uc3QgRGFzaGJvYXJkID0gKCk9PntcclxuICAgIGNvbnN0IFtpc09wZW4sIHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSlcclxuICAgIGNvbnN0IHtkYXRhLGxvYWRpbmd9ID0gdXNlUXVlcnkoR0VUX0FDQ0VTU19CWV9IT1NQSVRBTClcclxuXHJcbiAgICBjb25zdCBbZ2V0VXNlckluZm9CeUlkLCB7ZGF0YTp1c2VySW5mbywgbG9hZGluZzpsb2FkaW5nSW5mb31dID0gdXNlTGF6eVF1ZXJ5KEdFVF9VU0VSX0lORk9fQllfSUQpXHJcblxyXG5cclxuICAgICAgICBjb25zdCBoYW5kbGVVc2VyID0gKGlkKT0+e1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpZClcclxuICAgICAgICAgICAgZ2V0VXNlckluZm9CeUlkKHt2YXJpYWJsZXM6e2lkOmlkfX0pXHJcbiAgICAgICAgICAgIHNldElzT3Blbih0cnVlKVxyXG4gICAgICAgIH1cclxuXHJcblxyXG5cclxuICAgIHJldHVybihcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgICA8TmF2IC8+XHJcbiAgICAgICAgICAgIDxiciAvPjxiciAvPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cclxuICAgICAgICAgICAgPGg1PlBhdGllbnQgbGlzdDwvaDU+XHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGxvYWRpbmcgPyA8cD5Mb2FkaW5nLi4uPC9wPjpcclxuICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJzdHJpcGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHRoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0cj48dGg+IzwvdGg+PHRoPkN1c3RvbWVyIE5hbWU8L3RoPjx0aD5FbWFpbDwvdGg+PHRoPlBob25lIE51bWJlcjwvdGg+PHRoPi4uLjwvdGg+PC90cj5cclxuICAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgIDx0Ym9keT5cclxuICAgICAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA/IGRhdGEuZ2V0QWNjZXNzQnlIb3NwaXRhbC5tYXAoKHtpZCxjcmVhdGVkQXQsdXNlcn0saSk9PihcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8dHIga2V5PXtpfT48dGQ+ezEraX0uPC90ZD48dGQgY2xhc3NOYW1lPVwidXNlclwiIG9uQ2xpY2s9eygpPT5oYW5kbGVVc2VyKGlkKX0+e3VzZXIubmFtZX08L3RkPjx0ZD57dXNlci5lbWFpbH08L3RkPjx0ZD57dXNlci5waG9uZU51bWJlcn08L3RkPjx0ZD48TGluayBhcz17YC9ob3MvcmVjb3JkLyR7dXNlci5pZH1fJHt1c2VyLm5hbWUucmVwbGFjZSgvXFxzKy9nLCAnLScpLnRvTG93ZXJDYXNlKCl9YH0gaHJlZj1cIi9ob3MvcmVjb3JkL1tpZF1cIj48YT48aSBjbGFzc05hbWU9XCJtYXRlcmlhbC1pY29uc1wiPnZpc2liaWxpdHk8L2k+PC9hPjwvTGluaz48L3RkPjwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApKTpudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L3Rib2R5PlxyXG4gICAgICAgICAgICAgICAgPC90YWJsZT5cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgIDxNb2RhbCB0aXRsZT1cIlVzZXIgUHJvZmlsZVwiIGlzT3Blbj17aXNPcGVufSBcclxuICAgICAgICAgICAgICAgIGNsb3NlPXsoKT0+c2V0SXNPcGVuKGZhbHNlKX0gXHJcbiAgICAgICAgICAgICAgICBpc0xpbmU9e3RydWV9IG92ZXJmbG93PXt0cnVlfVxyXG4gICAgICAgICAgICAgICAgd2lkdGg9ezMwfT5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6XCIxMDAlXCIsIHBhZGRpbmdMZWZ0OlwiMzBweFwifX0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wgczEyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvYWRpbmdJbmZvID8gXCJsb2FkaW5nLi4uXCIgOlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Yj5OYW1lOjwvYj57dXNlckluZm8gJiYgdXNlckluZm8uZ2V0VXNlckluZm9CeUlkID8gdXNlckluZm8uZ2V0VXNlckluZm9CeUlkLm5hbWU6Jyd9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwPjxiPkVtYWlsOjwvYj57dXNlckluZm8gJiYgdXNlckluZm8uZ2V0VXNlckluZm9CeUlkID8gdXNlckluZm8uZ2V0VXNlckluZm9CeUlkLmVtYWlsOicnfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Yj5QaG9uZTo8L2I+e3VzZXJJbmZvICYmIHVzZXJJbmZvLmdldFVzZXJJbmZvQnlJZCA/IHVzZXJJbmZvLmdldFVzZXJJbmZvQnlJZC5waG9uZU51bWJlcjonJ308L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGI+QWRkcmVzczo8L2I+e3VzZXJJbmZvICYmIHVzZXJJbmZvLmdldFVzZXJJbmZvQnlJZCA/IHVzZXJJbmZvLmdldFVzZXJJbmZvQnlJZC5hZGRyZXNzOicnfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Yj5EYXRlIG9mIEJpcnRoOjwvYj57dXNlckluZm8gJiYgdXNlckluZm8uZ2V0VXNlckluZm9CeUlkID8gdXNlckluZm8uZ2V0VXNlckluZm9CeUlkLmRhdGVPZkJpcnRoOicnfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Yj5HZW5kZXI6PC9iPnt1c2VySW5mbyAmJiB1c2VySW5mby5nZXRVc2VySW5mb0J5SWQgPyB1c2VySW5mby5nZXRVc2VySW5mb0J5SWQuZ2VuZGVyOicnfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Yj5NYXJpdGFsIFN0YXR1czo8L2I+e3VzZXJJbmZvICYmIHVzZXJJbmZvLmdldFVzZXJJbmZvQnlJZCA/IHVzZXJJbmZvLmdldFVzZXJJbmZvQnlJZC5tYXJpdGFsU3RhdHVzOicnfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD48Yj5HZW5vdHlwZTo8L2I+e3VzZXJJbmZvICYmIHVzZXJJbmZvLmdldFVzZXJJbmZvQnlJZCA/IHVzZXJJbmZvLmdldFVzZXJJbmZvQnlJZC5nZW5vVHlwZTonJ308L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHA+PGI+Qmxvb2QgR3JvdXA6PC9iPnt1c2VySW5mbyAmJiB1c2VySW5mby5nZXRVc2VySW5mb0J5SWQgPyB1c2VySW5mby5nZXRVc2VySW5mb0J5SWQuYmxvb2RHcm91cDonJ308L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Lz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgICAgICAgICAgLnVzZXJ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGV4dC1kZWNvcmF0aW9uOnVuZGVybGluZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgPC8+XHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJTaWRlUHJvcHMoe3JlcSxyZXN9KXtcclxuICAgIGdldENsaWVudChyZXEpXHJcbiAgICAgcmV0dXJue3Byb3BzOnt9fVxyXG4gfVxyXG5leHBvcnQgZGVmYXVsdCBEYXNoYm9hcmQiXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Abiodun Michael\\\\\\\\Desktop\\\\\\\\chainmedic\\\\\\\\front\\\\\\\\pages\\\\\\\\hos\\\\\\\\dashboard.js */\"));\n};\n\nexport async function getServerSideProps({\n  req,\n  res\n}) {\n  getClient(req);\n  return {\n    props: {}\n  };\n}\nexport default Dashboard;","map":{"version":3,"sources":["C:/Users/Abiodun Michael/Desktop/chainmedic/front/pages/hos/dashboard.js"],"names":["React","useState","Nav","Link","useQuery","useLazyQuery","GET_ACCESS_BY_HOSPITAL","GET_USER_INFO_BY_ID","Modal","getClient","Dashboard","isOpen","setIsOpen","data","loading","getUserInfoById","userInfo","loadingInfo","handleUser","id","console","log","variables","getAccessByHospital","map","createdAt","user","i","name","email","phoneNumber","replace","toLowerCase","width","paddingLeft","address","dateOfBirth","gender","maritalStatus","genoType","bloodGroup","getServerSideProps","req","res","props"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\r\nimport Nav from '../../components/layout'\r\nimport Link from 'next/link'\r\nimport {useQuery, useLazyQuery} from '@apollo/client'\r\nimport {GET_ACCESS_BY_HOSPITAL,GET_USER_INFO_BY_ID} from '../../graphql/schema'\r\nimport {Modal} from '../../components/modal'\r\nimport {getClient} from '../../graphql/client'\r\n\r\n\r\nconst Dashboard = ()=>{\r\n    const [isOpen, setIsOpen] = useState(false)\r\n    const {data,loading} = useQuery(GET_ACCESS_BY_HOSPITAL)\r\n\r\n    const [getUserInfoById, {data:userInfo, loading:loadingInfo}] = useLazyQuery(GET_USER_INFO_BY_ID)\r\n\r\n\r\n        const handleUser = (id)=>{\r\n            console.log(id)\r\n            getUserInfoById({variables:{id:id}})\r\n            setIsOpen(true)\r\n        }\r\n\r\n\r\n\r\n    return(\r\n        <>\r\n            <Nav />\r\n            <br /><br />\r\n            \r\n            <div className=\"container\">\r\n            <h5>Patient list</h5>\r\n            {\r\n                loading ? <p>Loading...</p>:\r\n                <table className=\"striped\">\r\n                    <thead>\r\n                    <tr><th>#</th><th>Customer Name</th><th>Email</th><th>Phone Number</th><th>...</th></tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {\r\n                            data ? data.getAccessByHospital.map(({id,createdAt,user},i)=>(\r\n                                <tr key={i}><td>{1+i}.</td><td className=\"user\" onClick={()=>handleUser(id)}>{user.name}</td><td>{user.email}</td><td>{user.phoneNumber}</td><td><Link as={`/hos/record/${user.id}_${user.name.replace(/\\s+/g, '-').toLowerCase()}`} href=\"/hos/record/[id]\"><a><i className=\"material-icons\">visibility</i></a></Link></td></tr>\r\n                            )):null\r\n                        }\r\n                      \r\n                        </tbody>\r\n                </table>\r\n            }\r\n                 <Modal title=\"User Profile\" isOpen={isOpen} \r\n                close={()=>setIsOpen(false)} \r\n                isLine={true} overflow={true}\r\n                width={30}>\r\n                    <div style={{width:\"100%\", paddingLeft:\"30px\"}}>\r\n                    <div className=\"row\">\r\n                        <div className=\"col s12\">\r\n                        {\r\n                            loadingInfo ? \"loading...\" :\r\n                            <>\r\n                                <p><b>Name:</b>{userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.name:''}</p>\r\n                                <p><b>Email:</b>{userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.email:''}</p>\r\n                                <p><b>Phone:</b>{userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.phoneNumber:''}</p>\r\n                                <p><b>Address:</b>{userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.address:''}</p>\r\n                                <p><b>Date of Birth:</b>{userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.dateOfBirth:''}</p>\r\n                                <p><b>Gender:</b>{userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.gender:''}</p>\r\n                                <p><b>Marital Status:</b>{userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.maritalStatus:''}</p>\r\n                                <p><b>Genotype:</b>{userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.genoType:''}</p>\r\n                                <p><b>Blood Group:</b>{userInfo && userInfo.getUserInfoById ? userInfo.getUserInfoById.bloodGroup:''}</p>\r\n                            </>\r\n                        }\r\n                        </div>\r\n                    </div>\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n\r\n            <style jsx>{`\r\n                .user{\r\n                    text-decoration:underline;\r\n                }\r\n                \r\n            `}</style>\r\n        </>\r\n    )\r\n}\r\n\r\nexport async function getServerSideProps({req,res}){\r\n    getClient(req)\r\n     return{props:{}}\r\n }\r\nexport default Dashboard"]},"metadata":{},"sourceType":"module"}