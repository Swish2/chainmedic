{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState, useEffect } from 'react';\nimport Nav from '../../components/layout';\nimport Link from 'next/link';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { GET_HOSPITAL_PROFILE, UPDATE_HOSPITAL } from '../../graphql/schema';\nimport { Formik, Form, Field } from 'formik';\nimport { toast } from 'react-toastify';\nimport { Modal } from '../../components/modal';\nvar M = true ? require(\"materialize-css\") : '';\n\nvar Index = function Index() {\n  _s();\n\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var _useQuery = useQuery(GET_HOSPITAL_PROFILE),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      refetch = _useQuery.refetch;\n\n  var _useMutation = useMutation(UPDATE_HOSPITAL, {\n    onCompleted: function onCompleted(_ref) {\n      var updateHospital = _ref.updateHospital;\n\n      if (updateHospital.status) {\n        refetch();\n        toast.success(updateHospital.message);\n      } else {\n        toast.error(updateHospital.message);\n      }\n    },\n    onError: function onError(errors) {},\n    errorPolicy: \"ignore\"\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      updateHospital = _useMutation2[0];\n\n  function timeConverter(UNIX_timestamp) {\n    var a = new Date(UNIX_timestamp * 1000);\n    var months = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'];\n    var year = a.getFullYear();\n    var month = months[a.getMonth()];\n    var date = a.getDate();\n    var time = date + '-' + month + '-' + year;\n    return time;\n  }\n\n  console.log(timeConverter(0));\n  useEffect(function () {\n    M.AutoInit();\n  }, []);\n  return __jsx(React.Fragment, null, __jsx(Nav, null), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"div\", {\n    className: \"jsx-682678643\" + \" \" + \"container\"\n  }, __jsx(\"h5\", {\n    className: \"jsx-682678643\"\n  }, \"Profile \", __jsx(\"button\", {\n    onClick: function onClick() {\n      return setIsOpen(true);\n    },\n    className: \"jsx-682678643\" + \" \" + \"btn right indigo\"\n  }, \"Update Profile\")), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), loading ? __jsx(\"p\", {\n    className: \"jsx-682678643\"\n  }, \"Loading...\") : __jsx(\"ul\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Name:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), data && data.getHospitalProfile.name), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Email:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), data && data.getHospitalProfile.email), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Phone Number:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), data && data.getHospitalProfile.phoneNumber), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Address:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), data && data.getHospitalProfile.address), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Registration Number:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), data && data.getHospitalProfile.regNumber), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Private Key:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), data && data.getHospitalProfile.privateKey), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Public Key:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), data && data.getHospitalProfile.publicKey), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  })), __jsx(Modal, {\n    title: \"Update Profile\",\n    isOpen: isOpen,\n    close: function close() {\n      return setIsOpen(false);\n    },\n    isLine: true,\n    overflow: true\n  }, __jsx(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    className: \"jsx-682678643\"\n  }, __jsx(Formik, {\n    enableReinitialize: true,\n    initialValues: {\n      name: data && data.getHospitalProfile.name,\n      phoneNumber: data && data.getHospitalProfile.phoneNumber,\n      address: data && data.getHospitalProfile.address,\n      regNumber: data && data.getHospitalProfile.regNumber\n    },\n    onSubmit: function onSubmit(input, _ref2) {\n      var setSubmitting = _ref2.setSubmitting,\n          resetForm = _ref2.resetForm;\n      updateHospital({\n        variables: input\n      }).then(function (r) {\n        if (r.data.updateHospital.status) {\n          resetForm();\n          setIsOpen(false);\n        }\n\n        setSubmitting(false);\n      });\n    }\n  }, function (_ref3) {\n    var values = _ref3.values,\n        isSubmitting = _ref3.isSubmitting,\n        setFieldValue = _ref3.setFieldValue;\n    return __jsx(Form, null, __jsx(\"div\", {\n      className: \"jsx-682678643\" + \" \" + \"row\"\n    }, __jsx(\"div\", {\n      className: \"jsx-682678643\" + \" \" + \"col s12 m6 input-field\"\n    }, __jsx(Field, {\n      type: \"text\",\n      name: \"name\"\n    }), __jsx(\"label\", {\n      htmlFor: \"name\",\n      className: \"jsx-682678643\"\n    }, \"Name\")), __jsx(\"div\", {\n      className: \"jsx-682678643\" + \" \" + \"col s12 m6 input-field\"\n    }, __jsx(Field, {\n      type: \"tel\",\n      name: \"phoneNumber\"\n    }), __jsx(\"label\", {\n      htmlFor: \"phoneNumber\",\n      className: \"jsx-682678643\"\n    }, \"Phone Number\")), __jsx(\"div\", {\n      className: \"jsx-682678643\" + \" \" + \"col s12 m6 input-field\"\n    }, __jsx(Field, {\n      type: \"text\",\n      name: \"address\"\n    }), __jsx(\"label\", {\n      htmlFor: \"address\",\n      className: \"jsx-682678643\"\n    }, \"Address\")), __jsx(\"div\", {\n      className: \"jsx-682678643\" + \" \" + \"col s12 m6 input-field\"\n    }, __jsx(Field, {\n      type: \"text\",\n      name: \"regNumber\"\n    }), __jsx(\"label\", {\n      htmlFor: \"regNumber\",\n      className: \"jsx-682678643\"\n    }, \"Registration Number\")), __jsx(\"div\", {\n      className: \"jsx-682678643\" + \" \" + \"col s12 m6 input-field\"\n    }, __jsx(\"button\", {\n      disabled: isSubmitting,\n      className: \"jsx-682678643\" + \" \" + \"btn indigo\"\n    }, isSubmitting ? \"Please wait...\" : \"Submit\"))));\n  })))), __jsx(_JSXStyle, {\n    id: \"682678643\"\n  }, \".input-field.jsx-682678643{margin-left:40px !important;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQWJpb2R1biBNaWNoYWVsXFxEZXNrdG9wXFxjaGFpbm1lZGljXFxmcm9udFxccGFnZXNcXGhvc1xccHJvZmlsZS5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFtSHlCLEFBR2dELDRCQUMvQiIsImZpbGUiOiJDOlxcVXNlcnNcXEFiaW9kdW4gTWljaGFlbFxcRGVza3RvcFxcY2hhaW5tZWRpY1xcZnJvbnRcXHBhZ2VzXFxob3NcXHByb2ZpbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUmVhY3Qse3VzZVN0YXRlLHVzZUVmZmVjdH0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBOYXYgZnJvbSAnLi4vLi4vY29tcG9uZW50cy9sYXlvdXQnXHJcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluaydcclxuaW1wb3J0IHt1c2VRdWVyeSx1c2VNdXRhdGlvbn0gZnJvbSAnQGFwb2xsby9jbGllbnQnXHJcbmltcG9ydCB7R0VUX0hPU1BJVEFMX1BST0ZJTEUsVVBEQVRFX0hPU1BJVEFMfSBmcm9tICcuLi8uLi9ncmFwaHFsL3NjaGVtYSdcclxuaW1wb3J0IHtGb3JtaWssRm9ybSxGaWVsZH0gZnJvbSAnZm9ybWlrJ1xyXG5pbXBvcnQge3RvYXN0fSBmcm9tICdyZWFjdC10b2FzdGlmeSdcclxuaW1wb3J0IHtNb2RhbH0gZnJvbSAnLi4vLi4vY29tcG9uZW50cy9tb2RhbCdcclxuY29uc3QgTSA9IHR5cGVvZiB3aW5kb3cgIT09XCJ1bmRlZmluZWRcIiA/IHJlcXVpcmUoXCJtYXRlcmlhbGl6ZS1jc3NcIik6JydcclxuXHJcblxyXG5jb25zdCBJbmRleCA9ICgpPT57XHJcbiAgICBjb25zdCBbaXNPcGVuLHNldElzT3Blbl0gPSB1c2VTdGF0ZShmYWxzZSlcclxuICBcclxuICAgY29uc3Qge2RhdGEsbG9hZGluZyxyZWZldGNofSA9ICB1c2VRdWVyeShHRVRfSE9TUElUQUxfUFJPRklMRSlcclxuXHJcbiAgICBjb25zdCBbdXBkYXRlSG9zcGl0YWxdPSB1c2VNdXRhdGlvbihVUERBVEVfSE9TUElUQUwse1xyXG4gICAgICAgIG9uQ29tcGxldGVkKHt1cGRhdGVIb3NwaXRhbH0pe1xyXG4gICAgICAgICAgICBpZih1cGRhdGVIb3NwaXRhbC5zdGF0dXMpe1xyXG4gICAgICAgICAgICAgICAgcmVmZXRjaCgpXHJcbiAgICAgICAgICAgICAgICB0b2FzdC5zdWNjZXNzKHVwZGF0ZUhvc3BpdGFsLm1lc3NhZ2UpXHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdG9hc3QuZXJyb3IodXBkYXRlSG9zcGl0YWwubWVzc2FnZSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgb25FcnJvcihlcnJvcnMpe1xyXG5cclxuICAgICAgICB9LFxyXG4gICAgICAgIGVycm9yUG9saWN5OlwiaWdub3JlXCJcclxuICAgIH0pXHJcblxyXG4gICAgZnVuY3Rpb24gdGltZUNvbnZlcnRlcihVTklYX3RpbWVzdGFtcCl7XHJcbiAgICAgICAgdmFyIGEgPSBuZXcgRGF0ZShVTklYX3RpbWVzdGFtcCAqIDEwMDApO1xyXG4gICAgICAgIHZhciBtb250aHMgPSBbJ0phbicsJ0ZlYicsJ01hcicsJ0FwcicsJ01heScsJ0p1bicsJ0p1bCcsJ0F1ZycsJ1NlcCcsJ09jdCcsJ05vdicsJ0RlYyddO1xyXG4gICAgICAgIHZhciB5ZWFyID0gYS5nZXRGdWxsWWVhcigpO1xyXG4gICAgICAgIHZhciBtb250aCA9IG1vbnRoc1thLmdldE1vbnRoKCldO1xyXG4gICAgICAgIHZhciBkYXRlID0gYS5nZXREYXRlKCk7XHJcbiAgICAgICAgdmFyIHRpbWUgPSBkYXRlICsgJy0nICsgbW9udGggKyAnLScgKyB5ZWFyXHJcbiAgICAgICAgcmV0dXJuIHRpbWU7XHJcbiAgICAgIH1cclxuICAgICAgY29uc29sZS5sb2codGltZUNvbnZlcnRlcigwKSk7XHJcblxyXG4gICB1c2VFZmZlY3QoKCkgPT4ge1xyXG4gICAgTS5BdXRvSW5pdCgpXHJcbiAgIH0sIFtdKVxyXG5cclxucmV0dXJuKFxyXG4gICAgICAgIDw+XHJcbiAgICAgICAgICAgIDxOYXYgLz5cclxuICAgICAgICAgICAgPGJyIC8+PGJyIC8+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29udGFpbmVyXCI+XHJcbiAgICAgICAgICAgIDxoNT5Qcm9maWxlIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIHJpZ2h0IGluZGlnb1wiIG9uQ2xpY2s9eygpPT5zZXRJc09wZW4odHJ1ZSl9PlVwZGF0ZSBQcm9maWxlPC9idXR0b24+PC9oNT48YnIgLz5cclxuICAgICAgICAgICB7IGxvYWRpbmcgPyA8cD5Mb2FkaW5nLi4uPC9wPjpcclxuICAgICAgICAgICAgPHVsPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaT48Yj5OYW1lOjwvYj48YnIgLz57ZGF0YSAmJiBkYXRhLmdldEhvc3BpdGFsUHJvZmlsZS5uYW1lfTwvbGk+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxiPkVtYWlsOjwvYj48YnIgLz57ZGF0YSAmJiBkYXRhLmdldEhvc3BpdGFsUHJvZmlsZS5lbWFpbH08L2xpPjxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaT48Yj5QaG9uZSBOdW1iZXI6PC9iPjxiciAvPntkYXRhICYmIGRhdGEuZ2V0SG9zcGl0YWxQcm9maWxlLnBob25lTnVtYmVyfTwvbGk+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxiPkFkZHJlc3M6PC9iPjxiciAvPntkYXRhICYmIGRhdGEuZ2V0SG9zcGl0YWxQcm9maWxlLmFkZHJlc3N9PC9saT48YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8bGk+PGI+UmVnaXN0cmF0aW9uIE51bWJlcjo8L2I+PGJyIC8+e2RhdGEgJiYgZGF0YS5nZXRIb3NwaXRhbFByb2ZpbGUucmVnTnVtYmVyfTwvbGk+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxiPlByaXZhdGUgS2V5OjwvYj48YnIgLz57ZGF0YSAmJiBkYXRhLmdldEhvc3BpdGFsUHJvZmlsZS5wcml2YXRlS2V5fTwvbGk+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxiPlB1YmxpYyBLZXk6PC9iPjxiciAvPntkYXRhICYmIGRhdGEuZ2V0SG9zcGl0YWxQcm9maWxlLnB1YmxpY0tleX08L2xpPjxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICA8TW9kYWwgdGl0bGU9XCJVcGRhdGUgUHJvZmlsZVwiIGlzT3Blbj17aXNPcGVufSBcclxuICAgICAgICAgICAgICAgIGNsb3NlPXsoKT0+c2V0SXNPcGVuKGZhbHNlKX0gXHJcbiAgICAgICAgICAgICAgICBpc0xpbmU9e3RydWV9IG92ZXJmbG93PXt0cnVlfT5cclxuICAgICAgICAgICAgICAgICAgICAgPGRpdiBzdHlsZT17e3dpZHRoOlwiMTAwJVwifX0+XHJcbiAgICAgICAgICAgICAgICAgICAgIDxGb3JtaWtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZVJlaW5pdGlhbGl6ZT17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZXM9e3tuYW1lOmRhdGEgJiYgZGF0YS5nZXRIb3NwaXRhbFByb2ZpbGUubmFtZSxwaG9uZU51bWJlcjpkYXRhICYmIGRhdGEuZ2V0SG9zcGl0YWxQcm9maWxlLnBob25lTnVtYmVyLGFkZHJlc3M6ZGF0YSAmJiBkYXRhLmdldEhvc3BpdGFsUHJvZmlsZS5hZGRyZXNzLHJlZ051bWJlcjpkYXRhICYmIGRhdGEuZ2V0SG9zcGl0YWxQcm9maWxlLnJlZ051bWJlcn19XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvblN1Ym1pdD17KGlucHV0LHtzZXRTdWJtaXR0aW5nLHJlc2V0Rm9ybX0pPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXBkYXRlSG9zcGl0YWwoe3ZhcmlhYmxlczppbnB1dH0pLnRoZW4ocj0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZihyLmRhdGEudXBkYXRlSG9zcGl0YWwuc3RhdHVzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0Rm9ybSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc09wZW4oZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3VibWl0dGluZyhmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19Pnsoe3ZhbHVlcyxpc1N1Ym1pdHRpbmcsc2V0RmllbGRWYWx1ZX0pPT4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbCBzMTIgbTYgaW5wdXQtZmllbGRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWVsZCB0eXBlPVwidGV4dFwiIG5hbWU9XCJuYW1lXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGh0bWxGb3I9XCJuYW1lXCI+TmFtZTwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wgczEyIG02IGlucHV0LWZpZWxkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmllbGQgdHlwZT1cInRlbFwiIG5hbWU9XCJwaG9uZU51bWJlclwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwicGhvbmVOdW1iZXJcIj5QaG9uZSBOdW1iZXI8L2xhYmVsPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sIHMxMiBtNiBpbnB1dC1maWVsZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpZWxkIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImFkZHJlc3NcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWwgaHRtbEZvcj1cImFkZHJlc3NcIj5BZGRyZXNzPC9sYWJlbD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sIHMxMiBtNiBpbnB1dC1maWVsZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpZWxkIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInJlZ051bWJlclwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbCBodG1sRm9yPVwicmVnTnVtYmVyXCI+UmVnaXN0cmF0aW9uIE51bWJlcjwvbGFiZWw+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sIHMxMiBtNiBpbnB1dC1maWVsZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBpbmRpZ29cIiBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfT57aXNTdWJtaXR0aW5nID8gXCJQbGVhc2Ugd2FpdC4uLlwiOlwiU3VibWl0XCJ9PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICl9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvRm9ybWlrPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9Nb2RhbD5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgPHN0eWxlIGpzeD57YFxyXG4gICAgICAgICAgICAgICAgLmlucHV0LWZpZWxke1xyXG4gICAgICAgICAgICAgICAgICAgIG1hcmdpbi1sZWZ0OjQwcHggIWltcG9ydGFudDtcclxuICAgICAgICAgICAgICAgIH0gICAgXHJcbiAgICAgICAgICAgIGB9PC9zdHlsZT5cclxuICAgICAgICA8Lz5cclxuICAgIClcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5kZXgiXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Abiodun Michael\\\\\\\\Desktop\\\\\\\\chainmedic\\\\\\\\front\\\\\\\\pages\\\\\\\\hos\\\\\\\\profile.js */\"));\n};\n\n_s(Index, \"H27kXhbbXfSZyWUy4BxpAwUvUe8=\", false, function () {\n  return [useQuery, useMutation];\n});\n\n_c = Index;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["C:/Users/Abiodun Michael/Desktop/chainmedic/front/pages/hos/profile.js"],"names":["React","useState","useEffect","Nav","Link","useQuery","useMutation","GET_HOSPITAL_PROFILE","UPDATE_HOSPITAL","Formik","Form","Field","toast","Modal","M","require","Index","isOpen","setIsOpen","data","loading","refetch","onCompleted","updateHospital","status","success","message","error","onError","errors","errorPolicy","timeConverter","UNIX_timestamp","a","Date","months","year","getFullYear","month","getMonth","date","getDate","time","console","log","AutoInit","getHospitalProfile","name","email","phoneNumber","address","regNumber","privateKey","publicKey","width","input","setSubmitting","resetForm","variables","then","r","values","isSubmitting","setFieldValue"],"mappings":"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","sourcesContent":["import React,{useState,useEffect} from 'react'\r\nimport Nav from '../../components/layout'\r\nimport Link from 'next/link'\r\nimport {useQuery,useMutation} from '@apollo/client'\r\nimport {GET_HOSPITAL_PROFILE,UPDATE_HOSPITAL} from '../../graphql/schema'\r\nimport {Formik,Form,Field} from 'formik'\r\nimport {toast} from 'react-toastify'\r\nimport {Modal} from '../../components/modal'\r\nconst M = typeof window !==\"undefined\" ? require(\"materialize-css\"):''\r\n\r\n\r\nconst Index = ()=>{\r\n    const [isOpen,setIsOpen] = useState(false)\r\n  \r\n   const {data,loading,refetch} =  useQuery(GET_HOSPITAL_PROFILE)\r\n\r\n    const [updateHospital]= useMutation(UPDATE_HOSPITAL,{\r\n        onCompleted({updateHospital}){\r\n            if(updateHospital.status){\r\n                refetch()\r\n                toast.success(updateHospital.message)\r\n            }else{\r\n                toast.error(updateHospital.message)\r\n            }\r\n        },\r\n        onError(errors){\r\n\r\n        },\r\n        errorPolicy:\"ignore\"\r\n    })\r\n\r\n    function timeConverter(UNIX_timestamp){\r\n        var a = new Date(UNIX_timestamp * 1000);\r\n        var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];\r\n        var year = a.getFullYear();\r\n        var month = months[a.getMonth()];\r\n        var date = a.getDate();\r\n        var time = date + '-' + month + '-' + year\r\n        return time;\r\n      }\r\n      console.log(timeConverter(0));\r\n\r\n   useEffect(() => {\r\n    M.AutoInit()\r\n   }, [])\r\n\r\nreturn(\r\n        <>\r\n            <Nav />\r\n            <br /><br />\r\n            <div className=\"container\">\r\n            <h5>Profile <button className=\"btn right indigo\" onClick={()=>setIsOpen(true)}>Update Profile</button></h5><br />\r\n           { loading ? <p>Loading...</p>:\r\n            <ul>\r\n                    <li><b>Name:</b><br />{data && data.getHospitalProfile.name}</li><br />\r\n                    <li><b>Email:</b><br />{data && data.getHospitalProfile.email}</li><br />\r\n                    <li><b>Phone Number:</b><br />{data && data.getHospitalProfile.phoneNumber}</li><br />\r\n                    <li><b>Address:</b><br />{data && data.getHospitalProfile.address}</li><br />\r\n                    <li><b>Registration Number:</b><br />{data && data.getHospitalProfile.regNumber}</li><br />\r\n                    <li><b>Private Key:</b><br />{data && data.getHospitalProfile.privateKey}</li><br />\r\n                    <li><b>Public Key:</b><br />{data && data.getHospitalProfile.publicKey}</li><br />\r\n                    \r\n                </ul>\r\n               }\r\n               <Modal title=\"Update Profile\" isOpen={isOpen} \r\n                close={()=>setIsOpen(false)} \r\n                isLine={true} overflow={true}>\r\n                     <div style={{width:\"100%\"}}>\r\n                     <Formik\r\n                            enableReinitialize={true}\r\n                            initialValues={{name:data && data.getHospitalProfile.name,phoneNumber:data && data.getHospitalProfile.phoneNumber,address:data && data.getHospitalProfile.address,regNumber:data && data.getHospitalProfile.regNumber}}\r\n                            onSubmit={(input,{setSubmitting,resetForm})=>{\r\n                                updateHospital({variables:input}).then(r=>{\r\n                                    if(r.data.updateHospital.status){\r\n                                        resetForm()\r\n                                        setIsOpen(false)\r\n                                    }\r\n                                    setSubmitting(false)\r\n                                })\r\n\r\n                            }}>{({values,isSubmitting,setFieldValue})=>(\r\n                            <Form>\r\n                                <div className=\"row\">\r\n                                    <div className=\"col s12 m6 input-field\">\r\n                                        <Field type=\"text\" name=\"name\"/>\r\n                                        <label htmlFor=\"name\">Name</label>\r\n                                    </div>\r\n\r\n                                    <div className=\"col s12 m6 input-field\">\r\n                                        <Field type=\"tel\" name=\"phoneNumber\"/>\r\n                                        <label htmlFor=\"phoneNumber\">Phone Number</label>\r\n                                    </div>\r\n\r\n                                    <div className=\"col s12 m6 input-field\">\r\n                                        <Field type=\"text\" name=\"address\"/>\r\n                                        <label htmlFor=\"address\">Address</label>\r\n                                    </div>\r\n                                    <div className=\"col s12 m6 input-field\">\r\n                                        <Field type=\"text\" name=\"regNumber\"/>\r\n                                        <label htmlFor=\"regNumber\">Registration Number</label>\r\n                                    </div>\r\n                \r\n                                    <div className=\"col s12 m6 input-field\">\r\n                                    <button className=\"btn indigo\" disabled={isSubmitting}>{isSubmitting ? \"Please wait...\":\"Submit\"}</button>\r\n                            \r\n                                    </div>\r\n                                </div>\r\n                                \r\n                              </Form>\r\n                            )}\r\n                        </Formik>\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n\r\n             <style jsx>{`\r\n                .input-field{\r\n                    margin-left:40px !important;\r\n                }    \r\n            `}</style>\r\n        </>\r\n    )\r\n}\r\n\r\nexport default Index"]},"metadata":{},"sourceType":"module"}