{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\n\nvar _s = $RefreshSig$();\n\nimport _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Nav from '../components/layout';\nimport Link from 'next/link';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { GET_ALL_RECORD_BY_USER, CREATE_ACCESS } from '../graphql/schema';\nimport { Formik, Form, Field } from 'formik';\nimport { toast } from 'react-toastify';\nimport { Modal } from '../components/modal';\n\nvar Index = function Index() {\n  _s();\n\n  var _useState = useState(false),\n      isOpen = _useState[0],\n      setIsOpen = _useState[1];\n\n  var _useQuery = useQuery(GET_ALL_RECORD_BY_USER),\n      data = _useQuery.data,\n      loading = _useQuery.loading,\n      refetch = _useQuery.refetch;\n\n  var _useMutation = useMutation(CREATE_ACCESS, {\n    onCompleted: function onCompleted(_ref) {\n      var createAccess = _ref.createAccess;\n\n      if (createAccess.status) {\n        refetch();\n        toast.success(createAccess.message);\n      } else {\n        toast.error(createAccess.message);\n      }\n    },\n    onError: function onError(error) {}\n  }),\n      _useMutation2 = _slicedToArray(_useMutation, 1),\n      createAccess = _useMutation2[0];\n\n  return __jsx(React.Fragment, null, __jsx(Nav, null), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"div\", {\n    className: \"jsx-682678643\" + \" \" + \"container\"\n  }, __jsx(\"h5\", {\n    className: \"jsx-682678643\"\n  }, \"Profile \", __jsx(\"button\", {\n    onClick: function onClick() {\n      return setIsOpen(true);\n    },\n    className: \"jsx-682678643\" + \" \" + \"btn right indigo\"\n  }, \"Give Access\")), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"ul\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Name:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), \"Abiodun Michael\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Email:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), \"Abiodun Michael\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Phone Number:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), \"Abiodun Michael\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Date of Birth:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), \"Abiodun Michael\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Gender:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), \"Abiodun Michael\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Address:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), \"Abiodun Michael\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Blood Group:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), \"Abiodun Michael\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"li\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"b\", {\n    className: \"jsx-682678643\"\n  }, \"Genotype:\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), \"Abiodun Michael\"), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  })), __jsx(Modal, {\n    title: \"Give Access\",\n    isOpen: isOpen,\n    close: function close() {\n      return setIsOpen(false);\n    },\n    isLine: true,\n    overflow: true\n  }, __jsx(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    className: \"jsx-682678643\"\n  }, __jsx(\"div\", {\n    className: \"jsx-682678643\" + \" \" + \"row\"\n  }, __jsx(\"div\", {\n    className: \"jsx-682678643\" + \" \" + \"col s12 m6 input-field\"\n  }, __jsx(Formik, {\n    initialValues: {\n      email: \"\"\n    },\n    onSubmit: function onSubmit(input, _ref2) {\n      var setSubmitting = _ref2.setSubmitting,\n          resetForm = _ref2.resetForm;\n      createAccess({\n        variables: input\n      }).then(function (r) {\n        if (r.data.createAccess.status) {\n          resetForm();\n          setIsOpen(false);\n        }\n\n        setSubmitting(false);\n      });\n    }\n  }, function (_ref3) {\n    var isSubmitting = _ref3.isSubmitting;\n    return __jsx(Form, null, __jsx(Field, {\n      name: \"email\",\n      placeholder: \"Enter Hospital Email\"\n    }), __jsx(\"button\", {\n      disabled: isSubmitting,\n      className: \"jsx-682678643\" + \" \" + \"btn indigo\"\n    }, isSubmitting ? \"Please wait...\" : \"Submit\"));\n  })))))), __jsx(_JSXStyle, {\n    id: \"682678643\"\n  }, \".input-field.jsx-682678643{margin-left:40px !important;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQWJpb2R1biBNaWNoYWVsXFxEZXNrdG9wXFxjaGFpbm1lZGljXFxmcm9udFxccGFnZXNcXHByb2ZpbGUuanMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBZ0Z5QixBQUdnRCw0QkFDL0IiLCJmaWxlIjoiQzpcXFVzZXJzXFxBYmlvZHVuIE1pY2hhZWxcXERlc2t0b3BcXGNoYWlubWVkaWNcXGZyb250XFxwYWdlc1xccHJvZmlsZS5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBSZWFjdCx7dXNlU3RhdGV9IGZyb20gJ3JlYWN0J1xyXG5pbXBvcnQgTmF2IGZyb20gJy4uL2NvbXBvbmVudHMvbGF5b3V0J1xyXG5pbXBvcnQgTGluayBmcm9tICduZXh0L2xpbmsnXHJcbmltcG9ydCB7dXNlUXVlcnksdXNlTXV0YXRpb259IGZyb20gJ0BhcG9sbG8vY2xpZW50J1xyXG5pbXBvcnQge0dFVF9BTExfUkVDT1JEX0JZX1VTRVIsQ1JFQVRFX0FDQ0VTU30gZnJvbSAnLi4vZ3JhcGhxbC9zY2hlbWEnXHJcbmltcG9ydCB7Rm9ybWlrLEZvcm0sRmllbGR9IGZyb20gJ2Zvcm1paydcclxuaW1wb3J0IHt0b2FzdH0gZnJvbSAncmVhY3QtdG9hc3RpZnknXHJcbmltcG9ydCB7TW9kYWx9IGZyb20gJy4uL2NvbXBvbmVudHMvbW9kYWwnXHJcbmltcG9ydCB7Z2V0Q2xpZW50fSBmcm9tICcuLi9ncmFwaHFsL2NsaWVudCdcclxuXHJcblxyXG5cclxuY29uc3QgSW5kZXggPSAoKT0+e1xyXG4gICAgY29uc3QgW2lzT3BlbixzZXRJc09wZW5dID0gdXNlU3RhdGUoZmFsc2UpXHJcbiAgXHJcbiAgIGNvbnN0IHtkYXRhLGxvYWRpbmcscmVmZXRjaH0gPSAgdXNlUXVlcnkoR0VUX0FMTF9SRUNPUkRfQllfVVNFUilcclxuXHJcbiAgIGNvbnN0IFtjcmVhdGVBY2Nlc3NdID0gdXNlTXV0YXRpb24oQ1JFQVRFX0FDQ0VTUyx7XHJcbiAgICAgICBvbkNvbXBsZXRlZCh7Y3JlYXRlQWNjZXNzfSl7XHJcbiAgICAgICAgICAgaWYoY3JlYXRlQWNjZXNzLnN0YXR1cyl7XHJcbiAgICAgICAgICAgICAgICByZWZldGNoKClcclxuICAgICAgICAgICAgICAgdG9hc3Quc3VjY2VzcyhjcmVhdGVBY2Nlc3MubWVzc2FnZSlcclxuICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdG9hc3QuZXJyb3IoY3JlYXRlQWNjZXNzLm1lc3NhZ2UpXHJcbiAgICAgICAgICAgfVxyXG4gICAgICAgfSxcclxuICAgICAgIG9uRXJyb3IoZXJyb3Ipe1xyXG5cclxuICAgICAgIH1cclxuICAgfSlcclxuXHJcblxyXG5yZXR1cm4oXHJcbiAgICAgICAgPD5cclxuICAgICAgICAgICAgPE5hdiAvPlxyXG4gICAgICAgICAgICA8YnIgLz48YnIgLz5cclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cclxuICAgICAgICAgICAgPGg1PlByb2ZpbGUgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gcmlnaHQgaW5kaWdvXCIgb25DbGljaz17KCk9PnNldElzT3Blbih0cnVlKX0+R2l2ZSBBY2Nlc3M8L2J1dHRvbj48L2g1PjxiciAvPlxyXG4gICAgICAgICAgICA8dWw+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxiPk5hbWU6PC9iPjxiciAvPkFiaW9kdW4gTWljaGFlbDwvbGk+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxiPkVtYWlsOjwvYj48YnIgLz5BYmlvZHVuIE1pY2hhZWw8L2xpPjxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsaT48Yj5QaG9uZSBOdW1iZXI6PC9iPjxiciAvPkFiaW9kdW4gTWljaGFlbDwvbGk+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxiPkRhdGUgb2YgQmlydGg6PC9iPjxiciAvPkFiaW9kdW4gTWljaGFlbDwvbGk+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxiPkdlbmRlcjo8L2I+PGJyIC8+QWJpb2R1biBNaWNoYWVsPC9saT48YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8bGk+PGI+QWRkcmVzczo8L2I+PGJyIC8+QWJpb2R1biBNaWNoYWVsPC9saT48YnIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8bGk+PGI+Qmxvb2QgR3JvdXA6PC9iPjxiciAvPkFiaW9kdW4gTWljaGFlbDwvbGk+PGJyIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxpPjxiPkdlbm90eXBlOjwvYj48YnIgLz5BYmlvZHVuIE1pY2hhZWw8L2xpPjxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPC91bD5cclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgIDxNb2RhbCB0aXRsZT1cIkdpdmUgQWNjZXNzXCIgaXNPcGVuPXtpc09wZW59IFxyXG4gICAgICAgICAgICAgICAgY2xvc2U9eygpPT5zZXRJc09wZW4oZmFsc2UpfSBcclxuICAgICAgICAgICAgICAgIGlzTGluZT17dHJ1ZX0gb3ZlcmZsb3c9e3RydWV9PlxyXG4gICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6XCIxMDAlXCJ9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sIHMxMiBtNiBpbnB1dC1maWVsZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm1pa1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17e2VtYWlsOlwiXCJ9fVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25TdWJtaXQ9eyhpbnB1dCx7c2V0U3VibWl0dGluZyxyZXNldEZvcm19KT0+e1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZUFjY2Vzcyh7dmFyaWFibGVzOmlucHV0fSkudGhlbihyPT57XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKHIuZGF0YS5jcmVhdGVBY2Nlc3Muc3RhdHVzKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc2V0Rm9ybSgpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRJc09wZW4oZmFsc2UpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2V0U3VibWl0dGluZyhmYWxzZSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19Pnsoe2lzU3VibWl0dGluZ30pPT4oXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8Rm9ybT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmllbGQgbmFtZT1cImVtYWlsXCIgcGxhY2Vob2xkZXI9XCJFbnRlciBIb3NwaXRhbCBFbWFpbFwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzTmFtZT1cImJ0biBpbmRpZ29cIiBkaXNhYmxlZD17aXNTdWJtaXR0aW5nfT57aXNTdWJtaXR0aW5nID8gXCJQbGVhc2Ugd2FpdC4uLlwiOlwiU3VibWl0XCJ9PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm1paz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgICAgIC5pbnB1dC1maWVsZHtcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDo0MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICB9ICAgIFxyXG4gICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgPC8+XHJcbiAgICApXHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRTZXJ2ZXJTaWRlUHJvcHMoe3JlcSxyZXN9KXtcclxuICAgIGdldENsaWVudChyZXEpXHJcbiAgICAgcmV0dXJue3Byb3BzOnt9fVxyXG4gfVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgSW5kZXgiXX0= */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Abiodun Michael\\\\\\\\Desktop\\\\\\\\chainmedic\\\\\\\\front\\\\\\\\pages\\\\\\\\profile.js */\"));\n};\n\n_s(Index, \"OQ9mCkoujkzNG7Xaz5vZDlzrQn8=\", false, function () {\n  return [useQuery, useMutation];\n});\n\n_c = Index;\nexport var __N_SSP = true;\nexport default Index;\n\nvar _c;\n\n$RefreshReg$(_c, \"Index\");","map":{"version":3,"sources":["C:/Users/Abiodun Michael/Desktop/chainmedic/front/pages/profile.js"],"names":["React","useState","Nav","Link","useQuery","useMutation","GET_ALL_RECORD_BY_USER","CREATE_ACCESS","Formik","Form","Field","toast","Modal","Index","isOpen","setIsOpen","data","loading","refetch","onCompleted","createAccess","status","success","message","error","onError","width","email","input","setSubmitting","resetForm","variables","then","r","isSubmitting"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\r\nimport Nav from '../components/layout'\r\nimport Link from 'next/link'\r\nimport {useQuery,useMutation} from '@apollo/client'\r\nimport {GET_ALL_RECORD_BY_USER,CREATE_ACCESS} from '../graphql/schema'\r\nimport {Formik,Form,Field} from 'formik'\r\nimport {toast} from 'react-toastify'\r\nimport {Modal} from '../components/modal'\r\nimport {getClient} from '../graphql/client'\r\n\r\n\r\n\r\nconst Index = ()=>{\r\n    const [isOpen,setIsOpen] = useState(false)\r\n  \r\n   const {data,loading,refetch} =  useQuery(GET_ALL_RECORD_BY_USER)\r\n\r\n   const [createAccess] = useMutation(CREATE_ACCESS,{\r\n       onCompleted({createAccess}){\r\n           if(createAccess.status){\r\n                refetch()\r\n               toast.success(createAccess.message)\r\n           }else{\r\n            toast.error(createAccess.message)\r\n           }\r\n       },\r\n       onError(error){\r\n\r\n       }\r\n   })\r\n\r\n\r\nreturn(\r\n        <>\r\n            <Nav />\r\n            <br /><br />\r\n            <div className=\"container\">\r\n            <h5>Profile <button className=\"btn right indigo\" onClick={()=>setIsOpen(true)}>Give Access</button></h5><br />\r\n            <ul>\r\n                    <li><b>Name:</b><br />Abiodun Michael</li><br />\r\n                    <li><b>Email:</b><br />Abiodun Michael</li><br />\r\n                    <li><b>Phone Number:</b><br />Abiodun Michael</li><br />\r\n                    <li><b>Date of Birth:</b><br />Abiodun Michael</li><br />\r\n                    <li><b>Gender:</b><br />Abiodun Michael</li><br />\r\n                    <li><b>Address:</b><br />Abiodun Michael</li><br />\r\n                    <li><b>Blood Group:</b><br />Abiodun Michael</li><br />\r\n                    <li><b>Genotype:</b><br />Abiodun Michael</li><br />\r\n                    \r\n                </ul>\r\n               \r\n               <Modal title=\"Give Access\" isOpen={isOpen} \r\n                close={()=>setIsOpen(false)} \r\n                isLine={true} overflow={true}>\r\n                     <div style={{width:\"100%\"}}>\r\n                        <div className=\"row\">\r\n                            <div className=\"col s12 m6 input-field\">\r\n                            <Formik\r\n                            initialValues={{email:\"\"}}\r\n                            onSubmit={(input,{setSubmitting,resetForm})=>{\r\n                                createAccess({variables:input}).then(r=>{\r\n                                    if(r.data.createAccess.status){\r\n                                        resetForm()\r\n                                        setIsOpen(false)\r\n                                    }\r\n                                    setSubmitting(false)\r\n                                })\r\n\r\n                            }}>{({isSubmitting})=>(\r\n                            <Form>\r\n                                <Field name=\"email\" placeholder=\"Enter Hospital Email\"/>\r\n                                <button className=\"btn indigo\" disabled={isSubmitting}>{isSubmitting ? \"Please wait...\":\"Submit\"}</button>\r\n                            </Form>\r\n                            )}\r\n                        </Formik>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </Modal>\r\n            </div>\r\n\r\n             <style jsx>{`\r\n                .input-field{\r\n                    margin-left:40px !important;\r\n                }    \r\n            `}</style>\r\n        </>\r\n    )\r\n}\r\n\r\nexport async function getServerSideProps({req,res}){\r\n    getClient(req)\r\n     return{props:{}}\r\n }\r\n\r\nexport default Index"]},"metadata":{},"sourceType":"module"}