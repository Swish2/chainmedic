{"ast":null,"code":"import _JSXStyle from \"styled-jsx/style\";\nvar __jsx = React.createElement;\nimport React, { useState } from 'react';\nimport Nav from '../../../components/layout';\nimport Link from 'next/link';\nimport { Modal } from '../../../components/modal';\nimport { useQuery, useMutation } from '@apollo/client';\nimport { GET_ALL_RECORD_BY_USER_ID, CREATE_RECORD } from '../../../graphql/schema';\nimport { useRouter } from 'next/router';\nimport { Formik, Form, Field } from 'formik';\n\nconst Index = () => {\n  const {\n    0: isOpen,\n    1: setIsOpen\n  } = useState(false);\n  const {\n    query\n  } = useRouter();\n  const {\n    data,\n    loading\n  } = useQuery(GET_ALL_RECORD_BY_USER_ID, {\n    variables: {\n      userId: parseInt(query.id)\n    }\n  });\n  const [createRecord] = useMutation(CREATE_RECORD, {\n    onCompleted({\n      createRecord\n    }) {\n      console.log(createRecord);\n    },\n\n    onError(errors) {}\n\n  });\n  return __jsx(React.Fragment, null, __jsx(Nav, null), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"div\", {\n    className: \"jsx-682678643\" + \" \" + \"container\"\n  }, __jsx(\"h5\", {\n    className: \"jsx-682678643\"\n  }, \"Abiodun's Medical Records \", __jsx(\"button\", {\n    onClick: () => setIsOpen(true),\n    className: \"jsx-682678643\" + \" \" + \"btn right indigo\"\n  }, \"Add Record\")), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), loading ? __jsx(\"p\", {\n    className: \"jsx-682678643\"\n  }, \"Loading...\") : __jsx(\"table\", {\n    className: \"jsx-682678643\" + \" \" + \"striped\"\n  }, __jsx(\"thead\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"tr\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"th\", {\n    className: \"jsx-682678643\"\n  }, \"#\"), __jsx(\"th\", {\n    className: \"jsx-682678643\"\n  }, \"Hospital\"), __jsx(\"th\", {\n    className: \"jsx-682678643\"\n  }, \"Created\"), __jsx(\"th\", {\n    className: \"jsx-682678643\"\n  }, \"...\"))), __jsx(\"tbody\", {\n    className: \"jsx-682678643\"\n  }, data ? data.getAllRecordByUserId.map(({\n    transId,\n    hospital,\n    createdAt\n  }, i) => __jsx(\"tr\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"td\", {\n    className: \"jsx-682678643\"\n  }, 1 + i, \".\"), __jsx(\"td\", {\n    className: \"jsx-682678643\"\n  }, hospital.name), __jsx(\"td\", {\n    className: \"jsx-682678643\"\n  }, createdAt), __jsx(\"td\", {\n    className: \"jsx-682678643\"\n  }, __jsx(Link, {\n    href: \"/hos/info/[tid]\",\n    as: `/hos/info/${transId}`\n  }, __jsx(\"a\", {\n    className: \"jsx-682678643\"\n  }, __jsx(\"i\", {\n    className: \"jsx-682678643\" + \" \" + \"material-icons\"\n  }, \"visibility\")))))) : null))), __jsx(Modal, {\n    title: \"Create Record\",\n    isOpen: isOpen,\n    close: () => setIsOpen(false),\n    isLine: true,\n    overflow: true\n  }, __jsx(Formik, {\n    enableReinitialize: true,\n    initialValues: {\n      bp: '',\n      diabetics: '',\n      drugAllergy: '',\n      smoke: '',\n      drink: '',\n      sugery: '',\n      admission: '',\n      medication: '',\n      kids: '',\n      mode: '',\n      userId: parseInt(query.id)\n    }\n  }, ({\n    handleSubmit,\n    isSubmitting\n  }) => __jsx(Form, null, __jsx(\"div\", {\n    style: {\n      width: \"100%\"\n    },\n    className: \"jsx-682678643\"\n  }, __jsx(\"div\", {\n    className: \"jsx-682678643\" + \" \" + \"row\"\n  }, __jsx(\"div\", {\n    className: \"jsx-682678643\" + \" \" + \"col s12 m6 input-field\"\n  }, __jsx(Field, {\n    type: \"text\",\n    name: \"bp\",\n    placeholder: \"Last Bp\"\n  }), __jsx(Field, {\n    type: \"text\",\n    name: \"diabetics\",\n    placeholder: \"Diabetes History\"\n  }), __jsx(Field, {\n    type: \"text\",\n    name: \"drug_allergies\",\n    placeholder: \"Drug Allergies\"\n  }), __jsx(Field, {\n    type: \"text\",\n    name: \"smoke\",\n    placeholder: \"Smoke (Yes/No)\"\n  }), __jsx(Field, {\n    type: \"text\",\n    name: \"drink\",\n    placeholder: \"Drink (Yes/No)\"\n  }), __jsx(Field, {\n    type: \"text\",\n    name: \"surgery\",\n    placeholder: \"Surgery History\"\n  }), __jsx(Field, {\n    type: \"text\",\n    name: \"admission\",\n    placeholder: \"Admission History\"\n  }), __jsx(Field, {\n    type: \"text\",\n    name: \"medication\",\n    placeholder: \"Present Medication\"\n  }), __jsx(\"p\", {\n    className: \"jsx-682678643\"\n  }, \"For Female Patients\"), __jsx(Field, {\n    type: \"text\",\n    name: \"kids\",\n    placeholder: \"Number of kids\"\n  }), __jsx(Field, {\n    type: \"text\",\n    name: \"mode\",\n    placeholder: \"Method of Delivery (CS/Normal)\"\n  }), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"br\", {\n    className: \"jsx-682678643\"\n  }), __jsx(\"button\", {\n    disabled: isSubmitting,\n    onClick: handleSubmit,\n    className: \"jsx-682678643\" + \" \" + \"btn indigo btn-medium\"\n  }, isSubmitting ? \"Please wait...\" : \"Submit\"))))))), __jsx(_JSXStyle, {\n    id: \"682678643\"\n  }, \".input-field.jsx-682678643{margin-left:40px !important;}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIkM6XFxVc2Vyc1xcQWJpb2R1biBNaWNoYWVsXFxEZXNrdG9wXFxjaGFpbm1lZGljXFxmcm9udFxccGFnZXNcXGhvc1xccmVjb3JkXFxbaWRdLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQW1Gd0IsQUFHZ0QsNEJBQy9CIiwiZmlsZSI6IkM6XFxVc2Vyc1xcQWJpb2R1biBNaWNoYWVsXFxEZXNrdG9wXFxjaGFpbm1lZGljXFxmcm9udFxccGFnZXNcXGhvc1xccmVjb3JkXFxbaWRdLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LHt1c2VTdGF0ZX0gZnJvbSAncmVhY3QnXHJcbmltcG9ydCBOYXYgZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9sYXlvdXQnXHJcbmltcG9ydCBMaW5rIGZyb20gJ25leHQvbGluaydcclxuaW1wb3J0IHtNb2RhbH0gZnJvbSAnLi4vLi4vLi4vY29tcG9uZW50cy9tb2RhbCdcclxuaW1wb3J0IHt1c2VRdWVyeSx1c2VNdXRhdGlvbn0gZnJvbSAnQGFwb2xsby9jbGllbnQnXHJcbmltcG9ydCB7R0VUX0FMTF9SRUNPUkRfQllfVVNFUl9JRCxDUkVBVEVfUkVDT1JEfSBmcm9tICcuLi8uLi8uLi9ncmFwaHFsL3NjaGVtYSdcclxuaW1wb3J0IHt1c2VSb3V0ZXJ9IGZyb20gJ25leHQvcm91dGVyJ1xyXG5pbXBvcnQge0Zvcm1payxGb3JtLEZpZWxkfSBmcm9tICdmb3JtaWsnXHJcblxyXG5cclxuXHJcbmNvbnN0IEluZGV4ID0gKCk9PntcclxuICAgIGNvbnN0IFtpc09wZW4sc2V0SXNPcGVuXSA9IHVzZVN0YXRlKGZhbHNlKVxyXG4gICAgY29uc3Qge3F1ZXJ5fSA9IHVzZVJvdXRlcigpXHJcbiAgICBcclxuICAgY29uc3Qge2RhdGEsbG9hZGluZ30gPSAgdXNlUXVlcnkoR0VUX0FMTF9SRUNPUkRfQllfVVNFUl9JRCx7dmFyaWFibGVzOnt1c2VySWQ6cGFyc2VJbnQocXVlcnkuaWQpfX0pXHJcblxyXG4gICBjb25zdCBbY3JlYXRlUmVjb3JkXSA9IHVzZU11dGF0aW9uKENSRUFURV9SRUNPUkQse1xyXG4gICAgICAgb25Db21wbGV0ZWQoe2NyZWF0ZVJlY29yZH0pe1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGNyZWF0ZVJlY29yZClcclxuICAgICAgIH0sXHJcbiAgICAgICBvbkVycm9yKGVycm9ycyl7XHJcblxyXG4gICAgICAgfVxyXG4gICB9KVxyXG5cclxuXHJcbnJldHVybihcclxuICAgICAgICA8PlxyXG4gICAgICAgICAgICA8TmF2IC8+XHJcbiAgICAgICAgICAgIDxiciAvPjxiciAvPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb250YWluZXJcIj5cclxuICAgICAgICAgICAgPGg1PkFiaW9kdW4ncyBNZWRpY2FsIFJlY29yZHMgPGJ1dHRvbiBjbGFzc05hbWU9XCJidG4gcmlnaHQgaW5kaWdvXCIgb25DbGljaz17KCk9PnNldElzT3Blbih0cnVlKX0+QWRkIFJlY29yZDwvYnV0dG9uPjwvaDU+PGJyIC8+XHJcbiAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgIGxvYWRpbmcgPyA8cD5Mb2FkaW5nLi4uPC9wPjpcclxuICAgICAgICAgICAgICAgICAgIDx0YWJsZSBjbGFzc05hbWU9XCJzdHJpcGVkXCI+XHJcbiAgICAgICAgICAgICAgICAgICA8dGhlYWQ+XHJcbiAgICAgICAgICAgICAgICAgICA8dHI+PHRoPiM8L3RoPjx0aD5Ib3NwaXRhbDwvdGg+PHRoPkNyZWF0ZWQ8L3RoPjx0aD4uLi48L3RoPjwvdHI+XHJcbiAgICAgICAgICAgICAgICAgICA8L3RoZWFkPlxyXG4gICAgICAgICAgICAgICAgICAgPHRib2R5PlxyXG4gICAgICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YSA/IGRhdGEuZ2V0QWxsUmVjb3JkQnlVc2VySWQubWFwKCh7dHJhbnNJZCxob3NwaXRhbCxjcmVhdGVkQXR9LGkpPT4oXHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHRyPjx0ZD57MStpfS48L3RkPjx0ZD57aG9zcGl0YWwubmFtZX08L3RkPjx0ZD57Y3JlYXRlZEF0fTwvdGQ+PHRkPjxMaW5rIGhyZWY9XCIvaG9zL2luZm8vW3RpZF1cIiBhcz17YC9ob3MvaW5mby8ke3RyYW5zSWR9YH0+PGE+PGkgY2xhc3NOYW1lPVwibWF0ZXJpYWwtaWNvbnNcIj52aXNpYmlsaXR5PC9pPjwvYT48L0xpbms+PC90ZD48L3RyPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICApKTpudWxsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgIDwvdGJvZHk+XHJcbiAgICAgICAgICAgICAgIDwvdGFibGU+XHJcbiAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgPE1vZGFsIHRpdGxlPVwiQ3JlYXRlIFJlY29yZFwiIGlzT3Blbj17aXNPcGVufSBcclxuICAgICAgICAgICAgICAgIGNsb3NlPXsoKT0+c2V0SXNPcGVuKGZhbHNlKX0gXHJcbiAgICAgICAgICAgICAgICBpc0xpbmU9e3RydWV9IG92ZXJmbG93PXt0cnVlfT5cclxuICAgICAgICAgICAgICAgICAgICA8Rm9ybWlrXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVuYWJsZVJlaW5pdGlhbGl6ZT17dHJ1ZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlcz17e2JwOicnLGRpYWJldGljczonJyxkcnVnQWxsZXJneTonJyxzbW9rZTonJyxkcmluazonJyxzdWdlcnk6JycsYWRtaXNzaW9uOicnLG1lZGljYXRpb246Jycsa2lkczonJyxtb2RlOicnLCB1c2VySWQ6cGFyc2VJbnQocXVlcnkuaWQpfX0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB7KHtoYW5kbGVTdWJtaXQsaXNTdWJtaXR0aW5nfSk9PihcclxuICAgICAgICAgICAgICAgICAgICAgICAgPEZvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IHN0eWxlPXt7d2lkdGg6XCIxMDAlXCJ9fT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sIHMxMiBtNiBpbnB1dC1maWVsZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWVsZCB0eXBlPVwidGV4dFwiIG5hbWU9XCJicFwiIHBsYWNlaG9sZGVyPVwiTGFzdCBCcFwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmllbGQgdHlwZT1cInRleHRcIiBuYW1lPVwiZGlhYmV0aWNzXCIgcGxhY2Vob2xkZXI9XCJEaWFiZXRlcyBIaXN0b3J5XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWVsZCB0eXBlPVwidGV4dFwiIG5hbWU9XCJkcnVnX2FsbGVyZ2llc1wiIHBsYWNlaG9sZGVyPVwiRHJ1ZyBBbGxlcmdpZXNcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpZWxkIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cInNtb2tlXCIgcGxhY2Vob2xkZXI9XCJTbW9rZSAoWWVzL05vKVwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmllbGQgdHlwZT1cInRleHRcIiBuYW1lPVwiZHJpbmtcIiBwbGFjZWhvbGRlcj1cIkRyaW5rIChZZXMvTm8pXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWVsZCB0eXBlPVwidGV4dFwiIG5hbWU9XCJzdXJnZXJ5XCIgcGxhY2Vob2xkZXI9XCJTdXJnZXJ5IEhpc3RvcnlcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpZWxkIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cImFkbWlzc2lvblwiIHBsYWNlaG9sZGVyPVwiQWRtaXNzaW9uIEhpc3RvcnlcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPEZpZWxkIHR5cGU9XCJ0ZXh0XCIgbmFtZT1cIm1lZGljYXRpb25cIiBwbGFjZWhvbGRlcj1cIlByZXNlbnQgTWVkaWNhdGlvblwiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cD5Gb3IgRmVtYWxlIFBhdGllbnRzPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxGaWVsZCB0eXBlPVwidGV4dFwiIG5hbWU9XCJraWRzXCIgcGxhY2Vob2xkZXI9XCJOdW1iZXIgb2Yga2lkc1wiLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8RmllbGQgdHlwZT1cInRleHRcIiBuYW1lPVwibW9kZVwiIHBsYWNlaG9sZGVyPVwiTWV0aG9kIG9mIERlbGl2ZXJ5IChDUy9Ob3JtYWwpXCIvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxiciAvPjxiciAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3NOYW1lPVwiYnRuIGluZGlnbyBidG4tbWVkaXVtXCIgZGlzYWJsZWQ9e2lzU3VibWl0dGluZ30gIG9uQ2xpY2s9e2hhbmRsZVN1Ym1pdH0+e2lzU3VibWl0dGluZyA/IFwiUGxlYXNlIHdhaXQuLi5cIjpcIlN1Ym1pdFwifTwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L0Zvcm0+XHJcbiAgICAgICAgICAgICAgICAgICAgKX08L0Zvcm1paz4gXHJcbiAgICAgICAgICAgIDwvTW9kYWw+XHJcbiAgICAgICAgICAgIDxzdHlsZSBqc3g+e2BcclxuICAgICAgICAgICAgICAgIC5pbnB1dC1maWVsZHtcclxuICAgICAgICAgICAgICAgICAgICBtYXJnaW4tbGVmdDo0MHB4ICFpbXBvcnRhbnQ7XHJcbiAgICAgICAgICAgICAgICB9ICAgIFxyXG4gICAgICAgICAgICBgfTwvc3R5bGU+XHJcbiAgICAgICAgPC8+XHJcbiAgICApXHJcbn1cclxuXHJcblxyXG5leHBvcnQgZGVmYXVsdCBJbmRleCJdfQ== */\\n/*@ sourceURL=C:\\\\\\\\Users\\\\\\\\Abiodun Michael\\\\\\\\Desktop\\\\\\\\chainmedic\\\\\\\\front\\\\\\\\pages\\\\\\\\hos\\\\\\\\record\\\\\\\\[id].js */\"));\n};\n\nexport default Index;","map":{"version":3,"sources":["C:/Users/Abiodun Michael/Desktop/chainmedic/front/pages/hos/record/[id].js"],"names":["React","useState","Nav","Link","Modal","useQuery","useMutation","GET_ALL_RECORD_BY_USER_ID","CREATE_RECORD","useRouter","Formik","Form","Field","Index","isOpen","setIsOpen","query","data","loading","variables","userId","parseInt","id","createRecord","onCompleted","console","log","onError","errors","getAllRecordByUserId","map","transId","hospital","createdAt","i","name","bp","diabetics","drugAllergy","smoke","drink","sugery","admission","medication","kids","mode","handleSubmit","isSubmitting","width"],"mappings":"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","sourcesContent":["import React,{useState} from 'react'\r\nimport Nav from '../../../components/layout'\r\nimport Link from 'next/link'\r\nimport {Modal} from '../../../components/modal'\r\nimport {useQuery,useMutation} from '@apollo/client'\r\nimport {GET_ALL_RECORD_BY_USER_ID,CREATE_RECORD} from '../../../graphql/schema'\r\nimport {useRouter} from 'next/router'\r\nimport {Formik,Form,Field} from 'formik'\r\n\r\n\r\n\r\nconst Index = ()=>{\r\n    const [isOpen,setIsOpen] = useState(false)\r\n    const {query} = useRouter()\r\n    \r\n   const {data,loading} =  useQuery(GET_ALL_RECORD_BY_USER_ID,{variables:{userId:parseInt(query.id)}})\r\n\r\n   const [createRecord] = useMutation(CREATE_RECORD,{\r\n       onCompleted({createRecord}){\r\n        console.log(createRecord)\r\n       },\r\n       onError(errors){\r\n\r\n       }\r\n   })\r\n\r\n\r\nreturn(\r\n        <>\r\n            <Nav />\r\n            <br /><br />\r\n            \r\n            <div className=\"container\">\r\n            <h5>Abiodun's Medical Records <button className=\"btn right indigo\" onClick={()=>setIsOpen(true)}>Add Record</button></h5><br />\r\n               {\r\n                   loading ? <p>Loading...</p>:\r\n                   <table className=\"striped\">\r\n                   <thead>\r\n                   <tr><th>#</th><th>Hospital</th><th>Created</th><th>...</th></tr>\r\n                   </thead>\r\n                   <tbody>\r\n                       {\r\n                           data ? data.getAllRecordByUserId.map(({transId,hospital,createdAt},i)=>(\r\n\r\n                               <tr><td>{1+i}.</td><td>{hospital.name}</td><td>{createdAt}</td><td><Link href=\"/hos/info/[tid]\" as={`/hos/info/${transId}`}><a><i className=\"material-icons\">visibility</i></a></Link></td></tr>\r\n                           )):null\r\n                       }\r\n                       </tbody>\r\n               </table>\r\n               }\r\n               \r\n            </div>\r\n\r\n            <Modal title=\"Create Record\" isOpen={isOpen} \r\n                close={()=>setIsOpen(false)} \r\n                isLine={true} overflow={true}>\r\n                    <Formik\r\n                        enableReinitialize={true}\r\n                        initialValues={{bp:'',diabetics:'',drugAllergy:'',smoke:'',drink:'',sugery:'',admission:'',medication:'',kids:'',mode:'', userId:parseInt(query.id)}}>\r\n                            {({handleSubmit,isSubmitting})=>(\r\n                        <Form>\r\n                            <div style={{width:\"100%\"}}>\r\n                        <div className=\"row\">\r\n                            <div className=\"col s12 m6 input-field\">\r\n                                <Field type=\"text\" name=\"bp\" placeholder=\"Last Bp\"/>\r\n                                <Field type=\"text\" name=\"diabetics\" placeholder=\"Diabetes History\"/>\r\n                                <Field type=\"text\" name=\"drug_allergies\" placeholder=\"Drug Allergies\"/>\r\n                                <Field type=\"text\" name=\"smoke\" placeholder=\"Smoke (Yes/No)\"/>\r\n                                <Field type=\"text\" name=\"drink\" placeholder=\"Drink (Yes/No)\"/>\r\n                                <Field type=\"text\" name=\"surgery\" placeholder=\"Surgery History\"/>\r\n                                <Field type=\"text\" name=\"admission\" placeholder=\"Admission History\"/>\r\n                                <Field type=\"text\" name=\"medication\" placeholder=\"Present Medication\"/>\r\n                                <p>For Female Patients</p>\r\n                                <Field type=\"text\" name=\"kids\" placeholder=\"Number of kids\"/>\r\n                                <Field type=\"text\" name=\"mode\" placeholder=\"Method of Delivery (CS/Normal)\"/>\r\n                                <br /><br />\r\n                                <button className=\"btn indigo btn-medium\" disabled={isSubmitting}  onClick={handleSubmit}>{isSubmitting ? \"Please wait...\":\"Submit\"}</button>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                        </Form>\r\n                    )}</Formik> \r\n            </Modal>\r\n            <style jsx>{`\r\n                .input-field{\r\n                    margin-left:40px !important;\r\n                }    \r\n            `}</style>\r\n        </>\r\n    )\r\n}\r\n\r\n\r\nexport default Index"]},"metadata":{},"sourceType":"module"}